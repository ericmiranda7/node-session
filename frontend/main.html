<!DOCTYPE html>
<html>

<head>
    <title>Christ Session</title>
</head>

<body>
    username
    <input type="text" id="username" />
    <br />
    password
    <input type="password" id="password" />
    <br />
    <button id="loginButton">login</button>
    <button id="registerButton">register</button>
</body>
<script defer>
    const loginButton = document.getElementById("loginButton")
    const registerButton = document.getElementById("registerButton")

    registerButton.onclick = () => {
        const username = document.getElementById("username")
        const password = document.getElementById("password")

        fetch('http://127.0.0.1:3000/register', {
            body: JSON.stringify({
                username: username.value,
                password: password.value,
            }),
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            }
        })
    }

    loginButton.onclick = (_, ok) => {
        const username = document.getElementById("username")
        const password = document.getElementById("password")
        fetch('http://127.0.0.1:3000/login', {
            body: JSON.stringify({
                username: username.value,
                password: password.value,
            }),
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            }
        })
    }
</script>

</html>